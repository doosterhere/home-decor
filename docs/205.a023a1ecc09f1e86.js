"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[205],{7205:(y,O,a)=>{a.r(O),a.d(O,{UserModule:()=>p});var C=a(6895),s=a(3764),o=a(433),u=a(1571),v=a(8951),b=a(8010);const F=function(r){return{"border-color":r}},k=function(r){return{display:r}};class f{constructor(t,n,e,i){this.fb=t,this.authService=n,this._snackBar=e,this.router=i,this.authServiceLoginSubscription=null,this.loginForm=this.fb.group({email:["",[o.kI.email,o.kI.required]],password:["",[o.kI.required]],rememberMe:[!1]})}ngOnDestroy(){this.authServiceLoginSubscription?.unsubscribe()}login(){this.loginForm.valid&&this.loginForm.value.email&&this.loginForm.value.password&&(this.authServiceLoginSubscription=this.authService.login(this.loginForm.value.email,this.loginForm.value.password,!!this.loginForm.value.rememberMe).subscribe({next:t=>{let n=null;void 0!==t.error&&(n=t.message);const e=t;if((!e.accessToken||!e.refreshToken||!e.userId)&&(n="\u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438"),n)throw this._snackBar.open(n),new Error(n);this.authService.setTokens(e.accessToken,e.refreshToken),this.authService.userId=e.userId,this._snackBar.open("\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0448\u043b\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e"),this.router.navigate(["/"])},error:t=>{this._snackBar.open(t.error&&t.error.message?t.error.message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438")}}))}}f.\u0275fac=function(t){return new(t||f)(u.Y36(o.qu),u.Y36(v.e),u.Y36(b.ux),u.Y36(s.F0))},f.\u0275cmp=u.Xpm({type:f,selectors:[["app-login"]],decls:25,vars:8,consts:[[1,"login",3,"formGroup"],[1,"container"],[1,"auth-form"],[1,"auth-form__title"],[1,"auth-form__inputs"],[1,"auth-form__input"],["type","text","placeholder","\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430","formControlName","email",1,"input",3,"ngStyle"],[1,"hint",3,"ngStyle"],["type","password","placeholder","\u041f\u0430\u0440\u043e\u043b\u044c","formControlName","password",1,"input"],[1,"auth-form__checkbox"],["type","checkbox","id","remember","formControlName","rememberMe"],["for","remember"],[1,"auth-form__button"],[1,"button",3,"disabled","click"],[1,"auth-form__link"],["routerLink","/signup"],[1,"page-image"],["src","./assets/images/page/login-bckgrnd.png","alt","flower"]],template:function(t,n){if(1&t&&(u.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),u._uU(4,"\u0412\u043e\u0439\u0442\u0438 \u0432 \u043b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"),u.qZA(),u.TgZ(5,"div",4)(6,"div",5),u._UZ(7,"input",6),u.TgZ(8,"div",7),u._uU(9," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b "),u.qZA()(),u.TgZ(10,"div",5),u._UZ(11,"input",8),u.qZA(),u.TgZ(12,"div",9),u._UZ(13,"input",10),u.TgZ(14,"label",11),u._uU(15,"\u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u043c\u0435\u043d\u044f"),u.qZA()()(),u.TgZ(16,"div",12)(17,"button",13),u.NdJ("click",function(){return n.login()}),u._uU(18,"\u0412\u043e\u0439\u0442\u0438"),u.qZA()(),u.TgZ(19,"div",14),u._uU(20," \u041d\u0435\u0442 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430?"),u.TgZ(21,"a",15),u._uU(22,"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c"),u.qZA()()(),u.TgZ(23,"div",16),u._UZ(24,"img",17),u.qZA()()()),2&t){let e,i;u.Q6J("formGroup",n.loginForm),u.xp6(7),u.Q6J("ngStyle",u.VKq(4,F,null!=(e=n.loginForm.get("email"))&&e.invalid&&(null!=(e=n.loginForm.get("email"))&&e.dirty||null!=(e=n.loginForm.get("email"))&&e.touched)?"#DE1818":"")),u.xp6(1),u.Q6J("ngStyle",u.VKq(6,k,null!=(i=n.loginForm.get("email"))&&i.invalid&&(null!=(i=n.loginForm.get("email"))&&i.dirty||null!=(i=n.loginForm.get("email"))&&i.touched)?"block":"none")),u.xp6(9),u.Q6J("disabled",n.loginForm.invalid)}},dependencies:[C.PC,o.Fj,o.Wl,o.JJ,o.JL,o.sg,o.u,s.rH],styles:[".auth-form[_ngcontent-%COMP%]{margin-top:50px;margin-bottom:110px;width:422px}.auth-form[_ngcontent-%COMP%]   .auth-form__title[_ngcontent-%COMP%]{font-family:Lora,sans-serif;font-weight:400;font-size:36px;color:#202b21;margin-bottom:35px}.auth-form[_ngcontent-%COMP%]   .auth-form__inputs[_ngcontent-%COMP%]{margin-bottom:10px}.auth-form[_ngcontent-%COMP%]   .auth-form__inputs[_ngcontent-%COMP%]   .auth-form__input[_ngcontent-%COMP%]{margin-bottom:8px}.auth-form[_ngcontent-%COMP%]   .auth-form__inputs[_ngcontent-%COMP%]   .auth-form__input[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{width:100%}.auth-form[_ngcontent-%COMP%]   .auth-form__inputs[_ngcontent-%COMP%]   .auth-form__input[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-weight:400;font-size:12px;color:#de1818}.auth-form[_ngcontent-%COMP%]   .auth-form__inputs[_ngcontent-%COMP%]   .auth-form__checkbox[_ngcontent-%COMP%]{max-width:422px;display:flex;align-items:baseline}.auth-form[_ngcontent-%COMP%]   .auth-form__inputs[_ngcontent-%COMP%]   .auth-form__checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:0;cursor:pointer}.auth-form[_ngcontent-%COMP%]   .auth-form__inputs[_ngcontent-%COMP%]   .auth-form__checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px;line-height:130%;color:#2c2c2c;margin-left:10px}.auth-form[_ngcontent-%COMP%]   .auth-form__inputs[_ngcontent-%COMP%]   .auth-form__checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#519057;text-decoration:none}.auth-form[_ngcontent-%COMP%]   .auth-form__button[_ngcontent-%COMP%]{margin-top:30px}.auth-form[_ngcontent-%COMP%]   .auth-form__button[_ngcontent-%COMP%]   button.button[_ngcontent-%COMP%]{width:422px}.auth-form[_ngcontent-%COMP%]   .auth-form__link[_ngcontent-%COMP%]{margin-top:8px;font-size:16px;color:#2c2c2c}.auth-form[_ngcontent-%COMP%]   .auth-form__link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:5px;text-decoration:none;color:#519057}.login[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex}.login[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .page-image[_ngcontent-%COMP%]{margin-left:49px}.login[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .page-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{vertical-align:bottom}"]});class l{validate(t){const n=t.get("password"),e=t.get("passwordRepeat");return n?.value!==e?.value?(e?.setErrors({passwordRepeat:!0}),{passwordRepeat:!0}):null}}l.\u0275fac=function(t){return new(t||l)},l.\u0275dir=u.lG2({type:l,selectors:[["","passwordRepeat",""]],features:[u._Bn([{provide:o.Cf,useExisting:l,multi:!0}])]});const M=function(r){return{"border-color":r}},P=function(r){return{display:r}};class d{constructor(t,n,e,i){this.fb=t,this.authService=n,this._snackBar=e,this.router=i,this.authServiceSignupSubscription=null,this.signupForm=this.fb.group({email:["",[o.kI.email,o.kI.required]],password:["",[o.kI.required,o.kI.pattern(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{8,}$/)]],passwordRepeat:["",[o.kI.required,o.kI.pattern(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{8,}$/)]],agree:[!1,[o.kI.requiredTrue]]})}ngOnDestroy(){this.authServiceSignupSubscription?.unsubscribe()}signup(){this.signupForm.valid&&this.signupForm.value.email&&this.signupForm.value.password&&this.signupForm.value.passwordRepeat&&this.signupForm.value.agree&&(this.authServiceSignupSubscription=this.authService.signup(this.signupForm.value.email,this.signupForm.value.password,this.signupForm.value.passwordRepeat).subscribe({next:t=>{let n=null;void 0!==t.error&&(n=t.message);const e=t;if((!e.accessToken||!e.refreshToken||!e.userId)&&(n="\u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438"),n)throw this._snackBar.open(n),new Error(n);this.authService.setTokens(e.accessToken,e.refreshToken),this.authService.userId=e.userId,this._snackBar.open("\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0448\u043b\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e"),this.router.navigate(["/"])},error:t=>{this._snackBar.open(t.error&&t.error.message?t.message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438")}}))}}d.\u0275fac=function(t){return new(t||d)(u.Y36(o.qu),u.Y36(v.e),u.Y36(b.ux),u.Y36(s.F0))},d.\u0275cmp=u.Xpm({type:d,selectors:[["app-signup"]],decls:37,vars:20,consts:[["passwordRepeat","",1,"signup",3,"formGroup"],[1,"container"],[1,"auth-form"],[1,"auth-form__title"],[1,"auth-form__inputs"],[1,"auth-form__input"],["type","text","placeholder","\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430","formControlName","email",1,"input",3,"ngStyle"],[1,"hint",3,"ngStyle"],["type","password","placeholder","\u041f\u0430\u0440\u043e\u043b\u044c","formControlName","password",1,"input",3,"ngStyle"],["type","password","placeholder","\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c","formControlName","passwordRepeat",1,"input",3,"ngStyle"],[1,"auth-form__checkbox"],["type","checkbox","id","agree","formControlName","agree"],["for","agree"],["href","#"],[1,"auth-form__button"],[1,"button",3,"disabled","click"],[1,"auth-form__link"],["routerLink","/login"],[1,"page-image"],["src","./assets/images/page/signup-bckgrnd.png","alt","flower"]],template:function(t,n){if(1&t&&(u.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),u._uU(4,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043d\u0430 \u0441\u0430\u0439\u0442\u0435"),u.qZA(),u.TgZ(5,"div",4)(6,"div",5),u._UZ(7,"input",6),u.TgZ(8,"div",7),u._uU(9," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b "),u.qZA()(),u.TgZ(10,"div",5),u._UZ(11,"input",8),u.TgZ(12,"div",7),u._uU(13," \u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0438\u043c\u0435\u0442\u044c \u0434\u043b\u0438\u043d\u0443 \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 8-\u043c\u0438 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432. \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u043d\u0430\u043b\u0438\u0447\u0438\u0435 \u0446\u0438\u0444\u0440, \u0437\u0430\u0433\u043b\u0430\u0432\u043d\u043e\u0439 \u0438 \u0441\u0442\u0440\u043e\u0447\u043d\u043e\u0439 \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u043e\u0439 \u0431\u0443\u043a\u0432 "),u.qZA()(),u.TgZ(14,"div",5),u._UZ(15,"input",9),u.TgZ(16,"div",7),u._uU(17," \u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442 "),u.qZA()(),u.TgZ(18,"div",10),u._UZ(19,"input",11),u.TgZ(20,"label",12),u._uU(21," \u042f \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e "),u.TgZ(22,"a",13),u._uU(23,"\u0443\u0441\u043b\u043e\u0432\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u0441\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f "),u.qZA(),u._uU(24," \u0438 \u0434\u0430\u044e "),u.TgZ(25,"a",13),u._uU(26,"\u0441\u043e\u0433\u043b\u0430\u0441\u0438\u0435 \u043d\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445"),u.qZA(),u._uU(27,". "),u.qZA()()(),u.TgZ(28,"div",14)(29,"button",15),u.NdJ("click",function(){return n.signup()}),u._uU(30,"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"),u.qZA()(),u.TgZ(31,"div",16),u._uU(32," \u0423\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442?"),u.TgZ(33,"a",17),u._uU(34,"\u0412\u043e\u0439\u0434\u0438\u0442\u0435"),u.qZA()()(),u.TgZ(35,"div",18),u._UZ(36,"img",19),u.qZA()()()),2&t){let e,i,c,m,_,h;u.Q6J("formGroup",n.signupForm),u.xp6(7),u.Q6J("ngStyle",u.VKq(8,M,null!=(e=n.signupForm.get("email"))&&e.invalid&&(null!=(e=n.signupForm.get("email"))&&e.dirty||null!=(e=n.signupForm.get("email"))&&e.touched)?"#DE1818":"")),u.xp6(1),u.Q6J("ngStyle",u.VKq(10,P,null!=(i=n.signupForm.get("email"))&&i.invalid&&(null!=(i=n.signupForm.get("email"))&&i.dirty||null!=(i=n.signupForm.get("email"))&&i.touched)?"block":"none")),u.xp6(3),u.Q6J("ngStyle",u.VKq(12,M,null!=(c=n.signupForm.get("password"))&&c.invalid&&(null!=(c=n.signupForm.get("password"))&&c.dirty||null!=(c=n.signupForm.get("password"))&&c.touched)?"#DE1818":"")),u.xp6(1),u.Q6J("ngStyle",u.VKq(14,P,null!=(m=n.signupForm.get("password"))&&m.invalid&&(null!=(m=n.signupForm.get("password"))&&m.dirty||null!=(m=n.signupForm.get("password"))&&m.touched)?"block":"none")),u.xp6(3),u.Q6J("ngStyle",u.VKq(16,M,null!=(_=n.signupForm.get("passwordRepeat"))&&_.invalid&&(null!=(_=n.signupForm.get("passwordRepeat"))&&_.dirty||null!=(_=n.signupForm.get("passwordRepeat"))&&_.touched)?"#DE1818":"")),u.xp6(1),u.Q6J("ngStyle",u.VKq(18,P,null!=(h=n.signupForm.get("passwordRepeat"))&&h.invalid&&(null!=(h=n.signupForm.get("passwordRepeat"))&&h.dirty||null!=(h=n.signupForm.get("passwordRepeat"))&&h.touched)?"block":"none")),u.xp6(13),u.Q6J("disabled",n.signupForm.invalid)}},dependencies:[C.PC,o.Fj,o.Wl,o.JJ,o.JL,o.sg,o.u,l,s.rH],styles:[".auth-form[_ngcontent-%COMP%]{margin-top:50px;margin-bottom:110px;width:422px}.auth-form[_ngcontent-%COMP%]   .auth-form__title[_ngcontent-%COMP%]{font-family:Lora,sans-serif;font-weight:400;font-size:36px;color:#202b21;margin-bottom:35px}.auth-form[_ngcontent-%COMP%]   .auth-form__inputs[_ngcontent-%COMP%]{margin-bottom:10px}.auth-form[_ngcontent-%COMP%]   .auth-form__inputs[_ngcontent-%COMP%]   .auth-form__input[_ngcontent-%COMP%]{margin-bottom:8px}.auth-form[_ngcontent-%COMP%]   .auth-form__inputs[_ngcontent-%COMP%]   .auth-form__input[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{width:100%}.auth-form[_ngcontent-%COMP%]   .auth-form__inputs[_ngcontent-%COMP%]   .auth-form__input[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-weight:400;font-size:12px;color:#de1818}.auth-form[_ngcontent-%COMP%]   .auth-form__inputs[_ngcontent-%COMP%]   .auth-form__checkbox[_ngcontent-%COMP%]{max-width:422px;display:flex;align-items:baseline}.auth-form[_ngcontent-%COMP%]   .auth-form__inputs[_ngcontent-%COMP%]   .auth-form__checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:0;cursor:pointer}.auth-form[_ngcontent-%COMP%]   .auth-form__inputs[_ngcontent-%COMP%]   .auth-form__checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px;line-height:130%;color:#2c2c2c;margin-left:10px}.auth-form[_ngcontent-%COMP%]   .auth-form__inputs[_ngcontent-%COMP%]   .auth-form__checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#519057;text-decoration:none}.auth-form[_ngcontent-%COMP%]   .auth-form__button[_ngcontent-%COMP%]{margin-top:30px}.auth-form[_ngcontent-%COMP%]   .auth-form__button[_ngcontent-%COMP%]   button.button[_ngcontent-%COMP%]{width:422px}.auth-form[_ngcontent-%COMP%]   .auth-form__link[_ngcontent-%COMP%]{margin-top:8px;font-size:16px;color:#2c2c2c}.auth-form[_ngcontent-%COMP%]   .auth-form__link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:5px;text-decoration:none;color:#519057}.signup[_ngcontent-%COMP%]{margin-top:10px}.signup[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex}.signup[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .page-image[_ngcontent-%COMP%]{margin-left:222px}.signup[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .page-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{vertical-align:bottom}"]});const Z=[{path:"login",component:f},{path:"signup",component:d}];class g{}g.\u0275fac=function(t){return new(t||g)},g.\u0275mod=u.oAB({type:g}),g.\u0275inj=u.cJS({imports:[s.Bz.forChild(Z),s.Bz]});var w=a(4466);class p{}p.\u0275fac=function(t){return new(t||p)},p.\u0275mod=u.oAB({type:p}),p.\u0275inj=u.cJS({imports:[C.ez,o.UX,w.m,g]})}}]);